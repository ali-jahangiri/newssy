(this.webpackJsonpname=this.webpackJsonpname||[]).push([[0],{31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c(1),a=c(17),i=c.n(a),r=c(9),l=c(2),j=function(){return Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("div",{className:"header__container",children:Object(s.jsx)("p",{children:"newssy"})})})})})},d=c(7),o=Object(n.createContext)(),u=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2);return[t[0],t[1]]},b=c(13),O=c.n(b),h=c(18),x=function(e){var t=Object(n.useState)([]),c=Object(d.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)(!0),r=Object(d.a)(i,2),l=r[0],j=r[1],o=Object(n.useState)(null),u=Object(d.a)(o,2),b=u[0],x=u[1];return Object(n.useEffect)((function(){Object(h.a)(O.a.mark((function t(){var c,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.prev=1,t.next=4,fetch("https://newsapi.org/v2/top-headlines?country=".concat(e,"&").concat("apiKey=5238d5970486478fa3cb6884de39e006"));case 4:return c=t.sent,t.next=7,c.json();case 7:s=t.sent,a(s),j(!1),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),x(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()}),[j,a,x,e]),[s,b,l]},m=function(e){var t=e.children,c=Object(n.useState)("us"),a=Object(d.a)(c,2),i=a[0],r=a[1],l=x(i),j=Object(d.a)(l,3),b=j[0],O=j[1],h=j[2],m=u(),v=Object(d.a)(m,2),p=v[0],f=v[1];return Object(s.jsx)(o.Provider,{value:{setCountery:r,value:b,loading:h,error:O,details:p,setDetails:f},children:t})},v=Object(l.f)((function(e){var t=e.value,c=e.history;return t?Object(s.jsx)("div",{className:"col-md-10 m-auto",children:Object(s.jsxs)("div",{className:"details__box",children:[Object(s.jsxs)("div",{className:"row mb-5",children:[Object(s.jsxs)("div",{className:"col-md-7",children:[Object(s.jsx)("div",{className:"details__back",children:Object(s.jsx)("span",{onClick:function(){return c.push("/")},children:"back Home"})}),Object(s.jsx)("h1",{className:"details__title",children:t.title})]}),Object(s.jsx)("div",{className:"details__img col-md-5",children:Object(s.jsx)("img",{className:"img-fluid",src:t.urlToImage,alt:t.title})})]}),Object(s.jsxs)("div",{className:"details__desc",children:[Object(s.jsx)("p",{className:"details__starter",children:"Description"}),Object(s.jsx)("p",{children:t.description})]}),Object(s.jsxs)("div",{className:"details__content",children:[Object(s.jsx)("p",{className:"details__starter",children:"Content"}),Object(s.jsxs)("p",{children:[t.content&&t.content.substr(0,t.content.indexOf("["))||"there is no Content",Object(s.jsx)("a",{href:t.url,children:"Read More"})]})]}),Object(s.jsxs)("div",{className:"details__info-box",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"Author"}),Object(s.jsx)("p",{children:t.author||"Unknow"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"Published At"}),Object(s.jsx)("p",{children:t.publishedAt})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"Source"}),Object(s.jsx)("p",{children:t.source.name})]})]})]})}):(setTimeout((function(){c.push("/")}),2e3),Object(s.jsx)("div",{className:"details__error",children:Object(s.jsx)("p",{children:"there is No data , you will be back to home"})}))})),p=Object(l.f)((function(){var e=Object(n.useContext)(o).details;return Object(s.jsx)("div",{children:Object(s.jsx)(v,{value:e})})})),f=function(e){var t=e.value,c=e.code,a=Object(n.useContext)(o).setCountery;return Object(s.jsxs)("div",{className:"col-md-1 col-sm-4 country__item",children:[Object(s.jsx)("span",{className:"country-item__bar"}),Object(s.jsx)("span",{onClick:function(){return a(c)},children:t})]})},N=["Us","Brazil","Canada","Switzerland","Germany","France","India","China","Japan","Russian","Saudi Arabia"],_=["us","br","ca","ch","de","fr","in","cn","jp","ru","sa"],g=function(){return Object(s.jsx)("div",{style:{padding:0},className:"col-md-12 country__container",children:Object(s.jsx)("div",{className:"row",children:N.map((function(e,t){return Object(s.jsx)(f,{code:_[t],value:e},e)}))})})},w=function(e){var t=e.src;try{return Object(s.jsx)("img",{src:t,className:"img-fluid",alt:""})}catch(c){return Object(s.jsx)("img",{alt:"",src:"https://static01.nyt.com/images/2020/11/07/us/politics/Bidentakeaways/Bidentakeaways-facebookJumbo.jpg"})}},y=Object(l.f)((function(e){var t=e.value,c=e.history,a=Object(n.useContext)(o).setDetails;return Object(s.jsx)("div",{className:"indexNews__item",children:Object(s.jsxs)("div",{onClick:function(){return a(t),void c.push("/details")},children:[Object(s.jsx)(w,{src:t.urlToImage}),Object(s.jsx)("h2",{children:t.title}),Object(s.jsx)("p",{className:"indexNews__author",children:t.author})]})})})),C=function(e){var t=e.data,c=e.col;return Object(s.jsx)("div",{className:"col-md-".concat(c),children:Object(s.jsx)("div",{className:"indexnesw__container",children:t.map((function(e){return Object(s.jsx)(y,{value:e},e.publishedAt+Math.random())}))})})},k=function(e){var t=e.value.articles;return Object(s.jsxs)("div",{className:"row no-gutters",children:[Object(s.jsx)(C,{col:3,data:t.slice(0,5)}),Object(s.jsx)(C,{col:4,data:t.slice(5,10)}),Object(s.jsx)(C,{col:3,data:t.slice(10,15)}),Object(s.jsx)(C,{col:2,data:t.slice(15,20)})]})},S=function(e){var t=e.loading,c=e.children,n=e.C;return Object(s.jsx)("div",{className:"loading-provider",children:t?c:n})},A=function(){var e=Object(n.useContext)(o),t=e.loading,c=e.value;return Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)("div",{className:"row"}),Object(s.jsx)(g,{}),Object(s.jsx)(S,{loading:t,C:Object(s.jsx)(k,{value:c}),children:Object(s.jsx)("p",{children:"loading.."})})]})},J=function(){return Object(s.jsx)(m,{children:Object(s.jsxs)(r.a,{children:[Object(s.jsx)(j,{}),Object(s.jsxs)(l.c,{children:[Object(s.jsx)(l.a,{path:"/",component:A,exact:!0}),Object(s.jsx)(l.a,{path:"/details",component:p})]})]})})};c(31),c(32);i.a.render(Object(s.jsx)(J,{}),document.querySelector("#root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.ad39fd45.chunk.js.map